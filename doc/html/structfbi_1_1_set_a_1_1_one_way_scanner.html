<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>tree: OneWayScanner&lt; PointsContainQueries, Dim &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>fbi</b>::<a class="el" href="classfbi_1_1_set_a.html">SetA</a>::<a class="el" href="structfbi_1_1_set_a_1_1_one_way_scanner.html">OneWayScanner</a>
  </div>
</div>
<div class="contents">
<h1>OneWayScanner&lt; PointsContainQueries, Dim &gt; Class Template Reference</h1><!-- doxytag: class="fbi::SetA::OneWayScanner" -->
<p>A scanner to find one type of intersection between two sets of intervals by looking at one of them as a set of points.  
<a href="#_details">More...</a></p>

<p><a href="classfbi_1_1_set_a_1_1_one_way_scanner-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfbi_1_1_set_a_1_1_one_way_scanner.html#a3956a96a95fa57f6ebafea21387e9ce8">scan</a> (const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">std::vector</a>&lt; const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00709.html">key_type</a> * &gt; &amp;pointsPtrVector, const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">std::vector</a>&lt; const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00709.html">key_type</a> * &gt; &amp;intervalsPtrVector, <a class="el" href="classfbi_1_1_set_a_1_1_state.html">State</a> &amp;state, <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">ResultType</a> &amp;resultVector)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename BoxType, std::size_t... TIndices&gt;<br/>
template&lt;bool PointsContainQueries, std::size_t Dim&gt;<br/>
 class fbi::SetA&lt; BoxType, TIndices &gt;::OneWayScanner&lt; PointsContainQueries, Dim &gt;</h3>

<p>A scanner to find one type of intersection between two sets of intervals by looking at one of them as a set of points. </p>
<p>Looking at the one-dimensional problem, two intervals can only overlap if at least one lower endpoint (also called the Head) is contained inside the other interval. We're finding intersections by iterating through the sorted set of points while looking at possible intervals which could contain a given point. The complexity of the problem has, given two sets of size n and m, an upper bound of <img class="formulaInl" alt="$ O(n * m) $" src="form_1.png"/>, for the general case we are looking at <img class="formulaInl" alt="$ O(m * log(m/n) + m + n ) $" src="form_2.png"/>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>As we're only looking at one combination of points/intervals here during one call, only one half of the possible combinations is found, this is why <a class="el" href="structfbi_1_1_set_a_1_1_one_way_scanner.html" title="A scanner to find one type of intersection between two sets of intervals by looking...">OneWayScanner</a> should always be in pairs. </dd></dl>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PointsContainQueries</em>&nbsp;</td><td>As we have to alternate between views, we would like to know which of the two sets at the beginning our points are a subset of. This is needed to calculate the resulting indices by subtracting pointers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Dim</em>&nbsp;</td><td>where we should first look for an intersection, all following dimensions will be evaluated via comparisons between two objects. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fbi_8h_source.html#l01414">1414</a> of file <a class="el" href="fbi_8h_source.html">fbi.h</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3956a96a95fa57f6ebafea21387e9ce8"></a><!-- doxytag: member="fbi::SetA::OneWayScanner::scan" ref="a3956a96a95fa57f6ebafea21387e9ce8" args="(const std::vector&lt; const key_type * &gt; &amp;pointsPtrVector, const std::vector&lt; const key_type * &gt; &amp;intervalsPtrVector, State &amp;state, ResultType &amp;resultVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void scan </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">std::vector</a>&lt; const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00709.html">key_type</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>pointsPtrVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">std::vector</a>&lt; const <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00709.html">key_type</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>intervalsPtrVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfbi_1_1_set_a_1_1_state.html">State</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html">ResultType</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>resultVector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pass through two sorted vectors and look for matches accordingly. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pointsPtrVector</em>&nbsp;</td><td>As we're looking at two subsets of intervals, this is the one representing the points. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>intervalsPtrVector</em>&nbsp;</td><td>These are the intervals, for this call. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>state</em>&nbsp;</td><td>We need the state (containing 2 pointers) to calculate the correct indices. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>resultVector</em>&nbsp;</td><td>Add our results. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>As the <a class="el" href="structfbi_1_1_set_a_1_1_one_way_scanner.html" title="A scanner to find one type of intersection between two sets of intervals by looking...">OneWayScanner</a> isn't necessarily be called for the last dimension only, we have to use the <a class="el" href="structfbi_1_1_set_a_1_1_intersection_tester.html" title="Check in  if two intervals intersect by comparing in all dimensions till it&#39;s...">IntersectionTester</a> to check for intersections in the remaining dimensions. </dd></dl>

<p>Definition at line <a class="el" href="fbi_8h_source.html#l01428">1428</a> of file <a class="el" href="fbi_8h_source.html">fbi.h</a>.</p>

<p>References <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html#a52e9b3c0d3157f9db067259fc2591085">vector&lt; _Tp, _Alloc &gt;::begin()</a>, <a class="el" href="fbi_8h_source.html#l01154">State::calculate()</a>, <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html#a5c5f31793e938ca343a70bc74a3ffa10">vector&lt; _Tp, _Alloc &gt;::empty()</a>, <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html#a8c27a1d92949b353ac4503001c0d1066">vector&lt; _Tp, _Alloc &gt;::end()</a>, and <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00730.html#a4b6b7d15cc8a77ac3bc94155c1c77ce5">vector&lt; _Tp, _Alloc &gt;::insert()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="fbi_8h_source.html">fbi.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Dec 20 18:43:05 2010 for tree by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
